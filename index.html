<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GreenWorld Plant Store</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family: 'Segoe UI',sans-serif;}
  body,html{height:100%;overflow-x:hidden;}

  body{
    background:url('https://media.istockphoto.com/id/2160078318/photo/close-up-of-a-farmer-planting-a-lettuce-seedling-on-a-community-garden.jpg?s=2048x2048&w=is&k=20&c=BEiHFBtnqyH-533D1kALQ0mR401MXXQQaYn60_Qd6rU=') center/cover no-repeat;
    backdrop-filter: blur(2px);
    display:flex;align-items:center;justify-content:center;
    color:#fff;
  }

  .overlay{position:absolute;inset:0;background:rgba(0,0,0,0.6);}
  .container{position:relative;z-index:1;width:95%;max-width:1000px;background:rgba(255,255,255,0.1);
    padding:30px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.5);}
  h1{text-align:center;margin-bottom:20px;}

  .role-select{display:flex;justify-content:center;gap:20px;margin-top:20px;}
  button{cursor:pointer;border:none;padding:12px 24px;border-radius:12px;font-size:16px;font-weight:600;}
  .btn{background:#28a745;color:#fff;transition:.2s;}
  .btn:hover{background:#2fc956;transform:scale(1.05);}
  .hidden{display:none;}

  .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-top:20px;}
  .card{background:rgba(255,255,255,0.15);border-radius:12px;padding:10px;text-align:center;}
  .card img{width:100%;height:120px;object-fit:cover;border-radius:10px;}
  .card h3{margin:10px 0 5px;}
  .price{font-weight:bold;margin-bottom:6px;}
  .add-btn{background:#3fb77f;color:#fff;padding:8px 14px;border-radius:8px;}
  .cart-btn{margin-top:10px;background:#ffc107;color:#000;font-weight:600;}
  .back-btn{background:#6c757d;color:#fff;margin-bottom:10px;}
  .place-btn{background:#007bff;color:#fff;margin-top:10px;}
  .section{margin-top:10px;}

  table{width:100%;border-collapse:collapse;margin-top:20px;background:rgba(255,255,255,0.1);}
  th,td{padding:10px;border-bottom:1px solid rgba(255,255,255,0.2);}
  th{text-align:left;background:rgba(0,0,0,0.4);}
  td{color:#e6e6e6;}

  .popup{
    position:fixed;top:0;left:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.6);z-index:100;
  }
  .popup-content{
    background:#fff;padding:30px 40px;border-radius:12px;color:#000;text-align:center;
    animation:pop .3s ease;
  }
  @keyframes pop{from{transform:scale(0.8);opacity:0;}to{transform:scale(1);opacity:1;}}
</style>
</head>
<body>

<div class="overlay"></div>

<div class="container">

  <!-- ROLE SELECT -->
  <section id="roleScreen">
    <h1>Select Your Role</h1>
    <div class="role-select">
      <button class="btn" onclick="openCustomer()">Customer</button>
      <button class="btn" onclick="openAdmin()">Admin</button>
    </div>
  </section>

  <!-- CUSTOMER SCREEN -->
  <section id="customerScreen" class="hidden">
    <button class="back-btn" onclick="goHome()">‚Üê Back</button>
    <h1>Welcome Customer üåø</h1>
    <div class="section">
      <div class="product-grid" id="productList"></div>
    </div>
    <button class="cart-btn" onclick="showCart()">View Cart (<span id="cartCount">0</span>)</button>
    <div id="cartArea" class="hidden">
      <h2>üõí Your Cart</h2>
      <ul id="cartItems"></ul>
      <button class="place-btn" onclick="placeOrder()">Place Order</button>
    </div>
  </section>

  <!-- ADMIN SCREEN -->
  <section id="adminScreen" class="hidden">
    <button class="back-btn" onclick="goHome()">‚Üê Back</button>
    <h1>Admin Panel üßë‚Äçüíª</h1>
    <p>Below are all customer orders:</p>

    <!-- üóë Delete all orders button -->
    <button class="btn" style="background:#dc3545;margin-top:10px;" onclick="clearOrders()">üóë Delete All Orders</button>

    <table id="orderTable">
      <thead><tr><th>Customer</th><th>Item</th><th>Qty</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

</div>

<!-- Popup -->
<div class="popup" id="popup">
  <div class="popup-content">
    <h2>‚úÖ Order Placed!</h2>
    <p>Thank you for shopping with GreenWorld.</p>
    <button class="btn" onclick="closePopup()">OK</button>
  </div>
</div>

<script>
const products = [
  {id:1,name:'Monstera Plant',price:1200,img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQvqAxjNLcRheJkxA3BZ6rwVGipXkNNfNRRpQ&s'},
  {id:2,name:'Lucky Bamboo Plant',price:830,img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSXsn7twTwFzLfTFuu_xo077RI-hJ6M1S9xcQ&s'},
  {id:3,name:'Hibuscuss Plant',price:499,img:'https://nurserylive.com/cdn/shop/products/nurserylive-g-hibiscus-gudhal-flower-red-plant-213118_600x600.jpg?v=1751707084'},
  {id:4,name:'Spinach Seeds',price:106,img:'https://plantsguru.com/cdn/shop/files/Spinach_-_Palak_Seeds.jpg?v=1743450291'},
  {id:5,name:'Brinjal Plant',price:210,img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQOGmpWzf000micetVeAJO_U_DTgfduvmI6kA&s'},
  {id:6,name:'Rose Seeds',price:200,img:'https://m.media-amazon.com/images/I/51Q5HWMuCRL._UF1000,1000_QL80_.jpg'},
  {id:7,name:'Snake Plant',price:600,img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfskIS5Ukcy2pXJzB_FiDN6KprtyLUeMVu3w&s'},
  {id:8,name:'Cactus',price:450,img:'https://m.media-amazon.com/images/I/716FaIyzHOL._UF1000,1000_QL80_.jpg'},
  {id:9,name:'Basil Herb',price:250,img:'https://images.squarespace-cdn.com/content/v1/5cca114cb5014d7047d6e808/1567033531003-2N48L9LDTYWBKIFT5IHU/Basil'},
];
let cart = JSON.parse(localStorage.getItem('cart')||'[]');
let orders = JSON.parse(localStorage.getItem('orders')||'[]');

const roleScreen=document.getElementById('roleScreen');
const custScreen=document.getElementById('customerScreen');
const adminScreen=document.getElementById('adminScreen');
const productList=document.getElementById('productList');
const cartCount=document.getElementById('cartCount');
const cartItems=document.getElementById('cartItems');
const cartArea=document.getElementById('cartArea');
const popup=document.getElementById('popup');
const orderTable=document.querySelector('#orderTable tbody');

function goHome(){
  roleScreen.classList.remove('hidden');
  custScreen.classList.add('hidden');
  adminScreen.classList.add('hidden');
}
function openCustomer(){
  roleScreen.classList.add('hidden');
  custScreen.classList.remove('hidden');
  renderProducts();
  updateCartCount();
}
function openAdmin(){
  roleScreen.classList.add('hidden');
  adminScreen.classList.remove('hidden');
  loadOrders();
}
function renderProducts(){
  productList.innerHTML='';
  products.forEach(p=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`
      <img src="${p.img}" alt="${p.name}">
      <h3>${p.name}</h3>
      <div class="price">‚Çπ${p.price}</div>
      <button class="add-btn" onclick="addToCart(${p.id})">Add to Cart</button>
    `;
    productList.appendChild(div);
  });
}
function addToCart(id){
  const prod=products.find(p=>p.id===id);
  const item=cart.find(c=>c.id===id);
  if(item)item.qty++;
  else cart.push({id:prod.id,name:prod.name,price:prod.price,qty:1});
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartCount();
}
function updateCartCount(){
  cartCount.textContent=cart.reduce((a,b)=>a+b.qty,0);
}
function showCart(){
  cartArea.classList.toggle('hidden');
  renderCart();
}
function renderCart(){
  cartItems.innerHTML='';
  cart.forEach(c=>{
    const li=document.createElement('li');
    li.textContent=`${c.name} √ó ${c.qty} = ‚Çπ${c.qty*c.price}`;
    cartItems.appendChild(li);
  });
}
function placeOrder(){
  if(cart.length===0){alert("Cart empty!");return;}
  const name=prompt("Enter your name:");
  if(!name)return;
  cart.forEach(c=>{
    orders.push({customer:name,item:c.name,qty:c.qty});
  });
  localStorage.setItem('orders',JSON.stringify(orders));
  cart=[];
  localStorage.removeItem('cart');
  updateCartCount();
  renderCart();
  cartArea.classList.add('hidden');
  showPopup();
}
function showPopup(){popup.style.display='flex';}
function closePopup(){popup.style.display='none';goHome();}
function loadOrders(){
  orderTable.innerHTML='';
  if(orders.length===0){
    orderTable.innerHTML='<tr><td colspan="3">No orders yet</td></tr>';
    return;
  }
  orders.forEach(o=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${o.customer}</td><td>${o.item}</td><td>${o.qty}</td>`;
    orderTable.appendChild(tr);
  });
}

/* üóë clear all orders function */
function clearOrders(){
  if(confirm("Are you sure you want to delete all orders?")){
    orders = [];
    localStorage.removeItem('orders');
    loadOrders();
    alert("All orders deleted successfully!");
  }
}
</script>
</body>
</html>
